<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Access-Control-Allow-Origin" content="*" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    type="text/css" data-preload="true">
  <title>ePIC</title>
  <style>
    @font-face {
      font-family: 'MuseoCyrlFont';
      src: url('https://DimitrovYordan.github.io/statichtml/Museo_Cyrl_500.ttf')
    }

    #wrapper {
      min-width: 340px;
    }

    /* Add padding to container */
    .form-container {
      max-width: 450px;
      margin: 0 auto;
    }

    h1 {
      font-family: 'MuseoCyrlFont';
      text-align: center;
      color: #003665;
      size: 50px;
      height: 60px;
      font-size: 50px;
      position: relative;
      top: -100px;
    }

    .header {
      margin-bottom: -70px;
    }

    /* Center the avatar image inside this container */
    .header .company-logo {
      float: right;
    }

    .input-group-container {
      position: relative;
    }

    .input-group-container .input-group-icon {
      position: absolute;
      margin-top: 18px;
      margin-left: 10px;
      font-size: 5px;
      filter: brightness(0) saturate(100%) invert(14%) sepia(35%) saturate(4233%) hue-rotate(192deg) brightness(98%) contrast(100%);
    }

    .input-group-container #hide-input-icon,
    .input-group-container #show-input-icon {
      position: absolute;
      right: 10px;
      top: 20px;
      height: 25px;
      cursor: pointer;
      display: none;
    }

    .header a {
      margin-top: 45px;
      margin-left: 20px;
      font-size: 30px;
      float: left;
      font-family: 'Calibri';
      font-weight: normal;
    }

    .clearfix {
      display: block;
    }

    .clearfix:after {
      content: ".";
      display: block;
      height: 0;
      clear: both;
      visibility: hidden;
    }

    input[type=text],
    input[type=password] {
      font-family: 'MuseoCyrlFont';
      font-size: 15px;
      width: 100%;
      padding: 8px 16px 8px 16px;
      margin-top: 15px;
      display: inline-block;
      border: 1px solid #00AEEF;
      border-radius: 8px;
      box-sizing: border-box;
      text-align: center;
    }

    input[type=text]::placeholder,
    input[type=password]::placeholder {
      color: #003665;
    }

    input[type=text]:active,
    input[type=text]:focus,
    input[type=password]:active,
    input[type=password]:focus {
      outline: none;
    }

    input::-ms-reveal,
    input::-ms-clear {
      display: none;
    }

    p {
      color: #D10057;
      text-align: center;
      margin: 10px 0;
      font-family: 'MuseoCyrlFont';
    }

    /* Set a style for all buttons */
    button {
      background-color: #00AEEF;
      font-family: 'MuseoCyrlFont';
      font-size: 14pt;
      color: #fff;
      margin-bottom: 30px;
      margin-top: 15px;
      border: none;
      cursor: pointer;
      width: 100%;
      border-radius: 20px;
      height: 35px;
      line-height: 35px;
    }

    button:hover {
      opacity: 0.8;
    }

    button:active,
    button:focus {
      outline: none;
    }

    a {
      font-weight: bold;
      color: #00AEEF;
      cursor: pointer;
      text-decoration: none;
    }

    a:active,
    a:focus {
      outline: none;
    }

    /* The "Forgot password" text */
    .forgoten-pass-container {
      text-align: center;
      margin-top: 30px;
    }

    /* Set style footer */
    .footer-container {
      margin-top: 80px;
    }

    /* Set style for warning message */
    .warning-message p {
      font-family: 'MuseoCyrlFont';
      text-align: center;
      color: #003665;
      font-size: 16px;
    }

    @media only screen and (max-width: 600px) {
      h1 {
        font-size: 30px;
        margin-top: 100px;
        margin-bottom: 0;
      }

      .form-container button:first-of-type {
        margin-top: 0;
      }

      .footer-container {
        margin-top: 0;
      }
    }
  </style>
</head>

<body>

  <div id="wrapper">

    <div class="header">
      <a id="exit-page" href="https://ubb-pensions.bg/">X</a>
      <img src="https://DimitrovYordan.github.io/statichtml/KBC_PensionInsurance_BG_v.png" alt="Company Logo"
        class="company-logo" />
      <div class="clearfix"></div>
      <h1>Добре дошли</h1>
    </div>
    <div id="api" style="display: none;"></div>

    <div class="form-container">

      <button id="fake-kbc_employee_btn" class="enterKBC" type="submit">Вход за служители на KBC</button>

      <div class="input-group-container">
        <img src="https://DimitrovYordan.github.io/statichtml/email_icon.png" alt="Email icon"
          class="input-group-icon" />
        <input id="fake-username" class="username-field" tabindex="1" type="text" placeholder="Имейл за вход" />
        <p id="email-error-message"></p>
      </div>

      <div class="input-group-container">
        <img src="https://DimitrovYordan.github.io/statichtml/password_icon.png" alt="Password icon"
          class="input-group-icon" />
        <input id="fake-password" class="password-field" type="password" placeholder="Парола" />
        <img src="https://DimitrovYordan.github.io/statichtml/hide_password_input.png" alt="Hide password input"
          id="hide-input-icon" />
        <img src="https://DimitrovYordan.github.io/statichtml/show_password_input.PNG" alt="Show password input"
          id="show-input-icon" />
        <p id="password-error-message"></p>
      </div>

      <div class="forgoten-pass-container">
        <a href="javascript:" id="fake-forgot-password" class="forgoten-pass">Забравена парола?</a>
      </div>

      <button id="fake-submit-btn" class="continue" type="submit">Продължете</button>
    </div>

  </div>

  <footer class="footer-container">
    <div class="warning-message">
      <p>Системата е предназначена само за упълномощени потребители. Използването й се наблюдава.<br>
        Потребителите на системата се съгласяват с наблюдението и са информирани, че ако бъде установена потенциална
        криминална дейност,<br>
        служителите по сигурността имат право да предоставят доказателства от наблюдението на правоприлагащите органи.
      </p>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      var $kbcBtnFake = $('#fake-kbc_employee_btn'),
        $kbcBtnReal = $('#PIC_B2B_IDP'),
        $usernameFake = $('#fake-username'),
        $usernameReal = $('#email'),
        $passwordFake = $('#fake-password'),
        $passwordReal = $('#password'),
        $submitBtnFake = $('#fake-submit-btn'),
        $submitBtnReal = $('#next'),
        $forgotPasswordFake = $('#fake-forgot-password'),
        $forgotPasswordReal = $('#forgotPassword'),
        $emailError = $('#email-error-message'),
        $passwordError = $('#password-error-message'),
        $hideEyeIcon = $('#hide-input-icon'),
        $showEyeIcon = $('#show-input-icon'),
        emailReg = new RegExp('^[A-Za-z\._0-9+_-]{2,}[@][A-Za-z]{2,}[\.][a-z]{2,4}$');

      if ($kbcBtnReal.length) {
        $kbcBtnFake.on('click', function (ev) {
          $kbcBtnReal.click();
        });
      }

      $submitBtnFake.on('keyup', function (ev) {
        if (ev.keyCode === 13 || ev.keyCode === 10) {
          $("input").removeAttr("pattern");

          var unFake = $usernameFake.val();
          var pwdFake = $passwordFake.val();

          console.log(unFake);
          console.log(pwdFake);

          $usernameReal.val(unFake);
          $passwordReal.val(pwdFake);

          console.log($usernameReal.val());
          console.log($passwordReal.val());

          $submitBtnReal.click();
        }
      });

      $forgotPasswordFake.on('click', function (ev) {
        $forgotPasswordReal[0].click();
      });

      $submitBtnFake.on('click', function (ev) {
        $("input").removeAttr("pattern");

        var unFake = $usernameFake.val();
        var pwdFake = $passwordFake.val();

        console.log(unFake);
        console.log(pwdFake);

        $usernameReal.val(unFake);
        $passwordReal.val(pwdFake);

        console.log($usernameReal.val());
        console.log($passwordReal.val());

        $submitBtnReal.click();
      });

      // $submitBtnFake.on('click', function (ev) {
      //   $usernameReal.val($usernameFake.val());
      //   $passwordReal.val($passwordFake.val());

      //   console.log($passwordFake.val());
      //   console.log($passwordReal.val());
      //   console.log($usernameReal.val());
      //   console.log($usernameFake.val());

      //   $submitBtnReal.click();
      // });

      $usernameFake.on('change', function () {
        var enterVal = $usernameFake.val();
        if (enterVal === '') {
          $emailError.text('Попълнете полето, за да продължите');
        } else if (!emailReg.test(enterVal)) {
          $emailError.text('Имейлът за вход не е валиден');
        } else {
          $emailError.text('');
        }
      });

      $passwordFake.on('keyup', function () {
        var enterVal = $passwordFake.val();
        if (enterVal === '') {
          $passwordFake.attr("type", "password");
          $passwordError.text('Попълнете полето, за да продължите');
          $hideEyeIcon.css('display', 'none');
          $showEyeIcon.css('display', 'none');
        } else {
          $hideEyeIcon.css('display', 'block');
          $passwordError.text('');
        }
      });

      $hideEyeIcon.on("click", function () {
        $passwordFake.attr("type", "text");
        $hideEyeIcon.css('display', 'none');
        $showEyeIcon.css('display', 'block');
      });

      $showEyeIcon.on("click", function () {
        $passwordFake.attr("type", "password");
        $hideEyeIcon.css('display', 'block');
        $showEyeIcon.css('display', 'none');
      });

    });

  </script>
</body>

</html>